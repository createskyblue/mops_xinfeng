{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/service/index.ts","webpack:///./src/service/commands.ts","webpack:///./src/service/constants.ts","webpack:///./src/service/packets.ts","webpack:///./src/components/SensorConsole/index.scss","webpack:///./src/actions/sensor.ts","webpack:///./src/reducers/sensor.ts","webpack:///./src/reducers/report.ts","webpack:///./src/configureStore.ts","webpack:///./src/components/SensorConsole/index.tsx","webpack:///./src/Entry.tsx","webpack:///./src/reducers/index.ts","webpack:///./src/index.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","SensorService","device","this","events","handleValueChanged","event","target","emitBlock","Buffer","from","buffer","addEventListener","emit","navigator","bluetooth","requestDevice","filters","services","optionalServices","_a","server","gatt","connect","undefined","service","getPrimaryService","characteristic","getCharacteristic","startNotifications","disconnect","_b","removeAllListeners","block","writeValue","listener","on","off","packet","shutdown","makePacket","setMeasurementInterval","interval","of","setRTC","now","Date","values","alloc","writeUInt32BE","Math","trunc","getTime","readHistory","nextHistory","setMeasurementEnable","enabled","setWindSpeed","speed","type","payload","sum","RX_SERVICE_UUID","RX_CHAR_UUID","TX_CHAR_UUID","ShutdownPacket","assert","NoMoreHistoryPacket","HistoryPacket","pm25","readUInt16BE","recordDate","readUInt32BE","WindSpeedPacket","windSpeed","readUInt8","freeze","seal","BatteryPacket","capacity","isCharging","Boolean","RuntimePacket","runtime","boottime","SensorPacket","currentDate","MeasurementSetupPacket","VersionPacket","minor","major","Error","mapping","aa01","aa08","aa09","date","aa0a","aa0b","aa16","aa5001","aa5004","aa5005","aa5006","aa5007","aa54","readPacket","toString","createAsync","setConnected","updatePacket","async","params","dispatch","getState","sensor","sendCommand","console","log","toUpperCase","sendMessage","case","done","state","connected","shuttingdown","latest","history","historyFully","draft","batteryCapacity","batteryCharging","measurementInterval","measurementIntervalEnabled","runTime","bootTime","version","join","sortedUniqBy","record","composeEnhancers","_c","report","createElement","Container","className","container","Row","ButtonGroup","Button","color","onClick","disabled","Table","responsive","Progress","Input","min","max","step","id","onChange","parseInt","store","router","Entry","exact","path","component","document","body","appendChild","render"],"mappings":"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","file":"main.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([62,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import { EventEmitter } from 'events';\r\nimport { RX_SERVICE_UUID, RX_CHAR_UUID, TX_CHAR_UUID } from './constants';\r\nimport { readPacket } from './packets';\r\nimport * as Commands_1 from './commands';\r\nexport { Commands_1 as Commands };\r\nexport * from './packets';\r\nconst DISCONNECTED = 'gattserverdisconnected';\r\nconst VALUE_CHANGED = 'characteristicvaluechanged';\r\nexport class SensorService {\r\n    constructor(device) {\r\n        this.events = new EventEmitter();\r\n        this.handleValueChanged = (event) => {\r\n            const target = event.target;\r\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\r\n            this.emitBlock(Buffer.from(target.value.buffer));\r\n        };\r\n        this.device = device;\r\n        device.addEventListener(DISCONNECTED, () => {\r\n            this.events.emit(\"disconnected\" /* disconnected */);\r\n        });\r\n    }\r\n    static async requestDevice() {\r\n        const device = await navigator.bluetooth.requestDevice({\r\n            filters: [{ services: [0x7676] }],\r\n            optionalServices: [RX_SERVICE_UUID],\r\n        });\r\n        return new SensorService(device);\r\n    }\r\n    async connect() {\r\n        var _a;\r\n        this.server = await ((_a = this.device.gatt) === null || _a === void 0 ? void 0 : _a.connect());\r\n        if (this.server === undefined) {\r\n            return;\r\n        }\r\n        const service = await this.server.getPrimaryService(RX_SERVICE_UUID);\r\n        const characteristic = await service.getCharacteristic(TX_CHAR_UUID);\r\n        characteristic.addEventListener(VALUE_CHANGED, this.handleValueChanged);\r\n        await characteristic.startNotifications();\r\n    }\r\n    async disconnect() {\r\n        var _a;\r\n        try {\r\n            (_a = this.device.gatt) === null || _a === void 0 ? void 0 : _a.disconnect();\r\n        }\r\n        catch (_b) {\r\n            // ignore\r\n        }\r\n        this.events.removeAllListeners();\r\n    }\r\n    async sendCommand(block) {\r\n        var _a;\r\n        const service = await ((_a = this.server) === null || _a === void 0 ? void 0 : _a.getPrimaryService(RX_SERVICE_UUID));\r\n        if (service === undefined) {\r\n            return;\r\n        }\r\n        const characteristic = await service.getCharacteristic(RX_CHAR_UUID);\r\n        await characteristic.writeValue(block);\r\n    }\r\n    on(event, listener) {\r\n        this.events.on(event, listener);\r\n        return () => {\r\n            this.events.off(event, listener);\r\n        };\r\n    }\r\n    emitBlock(block) {\r\n        try {\r\n            const packet = readPacket(block);\r\n            if (packet === undefined) {\r\n                this.events.emit(\"failed\" /* failed */, block);\r\n            }\r\n            else {\r\n                this.events.emit(\"packet\" /* packet */, packet);\r\n            }\r\n        }\r\n        catch (_a) {\r\n            this.events.emit(\"failed\" /* failed */, block);\r\n        }\r\n    }\r\n}\r\n","import _ from 'lodash-es';\r\nexport function shutdown() {\r\n    return makePacket(0x01);\r\n}\r\nexport function setMeasurementInterval(interval) {\r\n    return makePacket(0x08, Buffer.of(0x00, interval));\r\n}\r\nexport function setRTC(now = new Date()) {\r\n    const values = Buffer.alloc(4);\r\n    values.writeUInt32BE(Math.trunc(now.getTime() / 1000));\r\n    return makePacket(0x09, values);\r\n}\r\nexport function readHistory() {\r\n    return makePacket(0x0a);\r\n}\r\nexport function nextHistory() {\r\n    return makePacket(0x0b);\r\n}\r\nexport function setMeasurementEnable(enabled) {\r\n    return makePacket(0x16, Buffer.of(enabled ? 0x01 : 0x00));\r\n}\r\nexport function setWindSpeed(speed) {\r\n    return makePacket(0x10, Buffer.from([speed, 0x00, 0x00, 0x00, 0x00]));\r\n}\r\nfunction makePacket(type, values = Buffer.of()) {\r\n    const payload = Buffer.of(0xaa, type, ...values);\r\n    return Buffer.of(...payload, _.sum(payload) & 255);\r\n}\r\n","export const RX_SERVICE_UUID = '6e400001-b5a3-f393-e0a9-e50e24dcca9e';\r\nexport const RX_CHAR_UUID = '6e400002-b5a3-f393-e0a9-e50e24dcca9e';\r\nexport const TX_CHAR_UUID = '6e400003-b5a3-f393-e0a9-e50e24dcca9e';\r\n","import _ from 'lodash-es';\r\nexport class ShutdownPacket {\r\n    constructor(data) {\r\n        assert(data, 0x01);\r\n    }\r\n}\r\nexport class MeasurementIntervalPacket {\r\n    constructor(data) {\r\n        assert(data, 0x08);\r\n        this.interval = data.readUInt32BE(0x2);\r\n    }\r\n}\r\nexport class SetRTCPacket {\r\n    constructor(data) {\r\n        assert(data, 0x09);\r\n        this.date = new Date(data.readUInt32BE(0x2) * 1000);\r\n    }\r\n}\r\nexport class NoMoreHistoryPacket {\r\n    constructor(data) {\r\n        assert(data, 0x0a);\r\n    }\r\n}\r\nexport class HistoryPacket {\r\n    constructor(data) {\r\n        assert(data, 0x0b);\r\n        this.pm25 = data.readUInt16BE(0x2);\r\n        this.recordDate = new Date(data.readUInt32BE(0x6) * 1000);\r\n    }\r\n}\r\nexport class MeasurementEnabledPacket {\r\n    constructor(data) {\r\n        assert(data, 0x16);\r\n        this.enabled = Boolean(data.readUInt8(0x2));\r\n    }\r\n}\r\nexport class WindSpeedPacket {\r\n    constructor(data) {\r\n        assert(data, 0x50);\r\n        this.windSpeed = data.readUInt8(0x5);\r\n        Object.freeze(this);\r\n        Object.seal(this);\r\n    }\r\n}\r\nexport class BatteryPacket {\r\n    constructor(data) {\r\n        assert(data, 0x50);\r\n        this.capacity = data.readUInt8(0x3);\r\n        this.isCharging = Boolean(data.readUInt8(0x6));\r\n        Object.freeze(this);\r\n        Object.seal(this);\r\n    }\r\n}\r\nexport class RuntimePacket {\r\n    constructor(data) {\r\n        assert(data, 0x50);\r\n        this.runtime = data.readUInt32BE(0x3);\r\n        this.boottime = data.readUInt32BE(0x7);\r\n        Object.freeze(this);\r\n        Object.seal(this);\r\n    }\r\n}\r\nexport class SensorPacket {\r\n    constructor(data) {\r\n        assert(data, 0x50);\r\n        this.pm25 = data.readUInt16BE(0x3);\r\n        this.recordDate = new Date(data.readUInt32BE(0x7) * 1000);\r\n        this.currentDate = new Date(data.readUInt32BE(0xc) * 1000);\r\n        Object.freeze(this);\r\n        Object.seal(this);\r\n    }\r\n}\r\nexport class MeasurementSetupPacket {\r\n    constructor(data) {\r\n        assert(data, 0x50);\r\n        this.interval = data.readUInt16BE(0x3);\r\n        this.enabled = Boolean(data.readUInt8(0x5));\r\n        Object.freeze(this);\r\n        Object.seal(this);\r\n    }\r\n}\r\nexport class VersionPacket {\r\n    constructor(data) {\r\n        assert(data, 0x54);\r\n        this.minor = data.readUInt16BE(0x2);\r\n        this.major = data.readUInt16BE(0x4);\r\n        Object.freeze(this);\r\n        Object.seal(this);\r\n    }\r\n    toString() {\r\n        return `${this.major}.${this.minor}`;\r\n    }\r\n}\r\nfunction assert(data, type) {\r\n    if (data[0] !== 0xaa) {\r\n        throw new Error('unexpected header');\r\n    }\r\n    else if (data[1] !== type) {\r\n        throw new Error('unexpected type');\r\n    }\r\n    else if (data[data.length - 1] !== (_.sum(data.slice(0, -1)) & 255)) {\r\n        throw new Error('unexpected checksum');\r\n    }\r\n}\r\nconst mapping = {\r\n    aa01: ShutdownPacket,\r\n    aa08: MeasurementIntervalPacket,\r\n    aa09: SetRTCPacket,\r\n    aa0a: NoMoreHistoryPacket,\r\n    aa0b: HistoryPacket,\r\n    aa16: MeasurementEnabledPacket,\r\n    aa5001: WindSpeedPacket,\r\n    aa5004: BatteryPacket,\r\n    aa5005: RuntimePacket,\r\n    aa5006: SensorPacket,\r\n    aa5007: MeasurementSetupPacket,\r\n    aa54: VersionPacket,\r\n};\r\nexport function readPacket(block) {\r\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n    // @ts-expect-error\r\n    const Packet = mapping[block.slice(0, 3).toString('hex')] || mapping[block.slice(0, 2).toString('hex')];\r\n    return new Packet(block);\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"_3Q4jVp-XdRE9lL_y-DHvqZ\",\"table\":\"_12l9Lp-US87GiC9o0PbHWo\",\"field\":\"_1BDqlaGx2FzEtv1WMIea58\"};","import actionCreatorFactory from 'typescript-fsa';\r\nimport { asyncFactory } from 'typescript-fsa-redux-thunk';\r\nimport { SensorService, HistoryPacket } from '../service';\r\nimport * as Commands from '../service/commands';\r\nconst create = actionCreatorFactory('SENSOR');\r\nconst createAsync = asyncFactory(create);\r\nexport const setConnected = create('SET_CONNECTED');\r\nexport const updatePacket = create('UPDATE_PACKET');\r\nexport const requestDevice = createAsync('REQUEST_DEVICE', async () => {\r\n    return SensorService.requestDevice();\r\n});\r\nexport const connect = createAsync('CONNECT', async (params, dispatch, getState) => {\r\n    const { sensor } = getState();\r\n    if (sensor === null) {\r\n        return;\r\n    }\r\n    await sensor.connect();\r\n    dispatch(setConnected(true));\r\n    sensor.on('disconnected', () => dispatch(setConnected(false)));\r\n    sensor.on('packet', async (packet) => {\r\n        if (packet instanceof HistoryPacket) {\r\n            await sensor.sendCommand(Commands.nextHistory());\r\n        }\r\n        return dispatch(updatePacket(packet));\r\n    });\r\n    sensor.on('failed', (packet) => {\r\n        console.log('Block', packet.toString('hex').toUpperCase());\r\n    });\r\n    await sensor.sendCommand(Commands.setRTC());\r\n});\r\nexport const disconnect = createAsync('DISCONNECT', async (params, dispatch, getState) => {\r\n    const { sensor } = getState();\r\n    return sensor === null || sensor === void 0 ? void 0 : sensor.disconnect();\r\n});\r\nconst sendMessage = createAsync('SEND_MESSAGE', async (payload, dispatch, getState) => {\r\n    const { sensor } = getState();\r\n    return sensor === null || sensor === void 0 ? void 0 : sensor.sendCommand(payload);\r\n});\r\nexport const setMeasurementEnable = (enabled) => sendMessage(Commands.setMeasurementEnable(enabled));\r\nexport const setMeasurementInterval = (value) => sendMessage(Commands.setMeasurementInterval(value));\r\nexport const setWindSpeed = (speed) => sendMessage(Commands.setWindSpeed(speed));\r\nexport const shutdown = () => sendMessage(Commands.shutdown());\r\nexport const readHistory = () => sendMessage(Commands.readHistory());\r\n","import { reducerWithInitialState } from 'typescript-fsa-reducers';\r\nimport { requestDevice } from '../actions/sensor';\r\n// prettier-ignore\r\nexport default reducerWithInitialState(null)\r\n    .case(requestDevice.async.done, (state, payload) => payload.result);\r\n","import { produce } from 'immer';\r\nimport { reducerWithInitialState } from 'typescript-fsa-reducers';\r\nimport { setConnected, updatePacket } from '../actions/sensor';\r\nimport _ from 'lodash-es';\r\nimport { WindSpeedPacket, BatteryPacket, HistoryPacket, MeasurementSetupPacket, NoMoreHistoryPacket, RuntimePacket, SensorPacket, ShutdownPacket, VersionPacket, } from '../service';\r\nconst defaultState = {\r\n    connected: false,\r\n    shuttingdown: false,\r\n    latest: {},\r\n    history: [],\r\n    historyFully: false,\r\n};\r\nexport default reducerWithInitialState(defaultState)\r\n    .case(setConnected, (state, connected) => produce(state, (draft) => {\r\n    if (!connected) {\r\n        draft.shuttingdown = false;\r\n        draft.latest = {};\r\n    }\r\n    draft.connected = connected;\r\n}))\r\n    .case(updatePacket, (state, packet) => produce(state, (draft) => {\r\n    draft.shuttingdown = false;\r\n    if (packet instanceof BatteryPacket) {\r\n        draft.latest.batteryCapacity = packet.capacity;\r\n        draft.latest.batteryCharging = packet.isCharging;\r\n    }\r\n    else if (packet instanceof MeasurementSetupPacket) {\r\n        draft.latest.measurementInterval = packet.interval;\r\n        draft.latest.measurementIntervalEnabled = packet.enabled;\r\n    }\r\n    else if (packet instanceof WindSpeedPacket) {\r\n        draft.latest.windSpeed = packet.windSpeed;\r\n    }\r\n    else if (packet instanceof RuntimePacket) {\r\n        draft.latest.runTime = packet.runtime;\r\n        draft.latest.bootTime = packet.boottime;\r\n    }\r\n    else if (packet instanceof SensorPacket) {\r\n        draft.latest.pm25 = packet.pm25;\r\n        draft.latest.recordDate = packet.recordDate;\r\n    }\r\n    else if (packet instanceof VersionPacket) {\r\n        draft.latest.version = [packet.major, packet.minor].join('.');\r\n    }\r\n    else if (packet instanceof ShutdownPacket) {\r\n        draft.shuttingdown = true;\r\n    }\r\n    else if (packet instanceof HistoryPacket) {\r\n        draft.history.push({\r\n            pm25: packet.pm25,\r\n            recordDate: packet.recordDate,\r\n        });\r\n        draft.history = _.sortedUniqBy(draft.history, (record) => { var _a; return (_a = record.recordDate) === null || _a === void 0 ? void 0 : _a.getTime(); });\r\n    }\r\n    else if (packet instanceof NoMoreHistoryPacket) {\r\n        draft.historyFully = true;\r\n    }\r\n}));\r\n","var _a;\r\nimport { createStore, compose, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { createMemoryHistory } from 'history';\r\nimport { routerMiddleware } from 'connected-react-router';\r\nimport { createRootReducer } from './reducers';\r\nexport const history = createMemoryHistory();\r\n// prettier-ignore\r\nconst composeEnhancers = process.env.NODE_ENV === 'production'\r\n    ? compose\r\n    : (_a = Reflect.get(window, '__REDUX_DEVTOOLS_EXTENSION_COMPOSE__')) !== null && _a !== void 0 ? _a : compose;\r\nexport const configureStore = () => createStore(createRootReducer(history), undefined, composeEnhancers(applyMiddleware(routerMiddleware(history), // connected-react-router\r\nthunk)));\r\n","import prettyDuration from 'pretty-ms';\r\nimport React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Button, ButtonGroup, Container, Progress, Row, Table, Input } from 'reactstrap';\r\nimport { connect, disconnect, requestDevice, shutdown, setWindSpeed } from '../../actions/sensor';\r\nimport locals from './index.scss';\r\nexport const SensorConsole = () => {\r\n    var _a, _b, _c;\r\n    const dispatch = useDispatch();\r\n    const connected = useSelector((state) => state.report.connected);\r\n    const shuttingdown = useSelector((state) => state.report.shuttingdown);\r\n    const latest = useSelector((state) => state.report.latest);\r\n    const onConnect = async () => {\r\n        if (connected) {\r\n            await dispatch(disconnect());\r\n        }\r\n        else {\r\n            await dispatch(requestDevice());\r\n            await dispatch(connect());\r\n        }\r\n    };\r\n    const onShutdown = () => dispatch(shutdown());\r\n    //   const onSetWindSpeed = (speed: number) => dispatch(setWindSpeed(speed));\r\n    return (React.createElement(Container, { className: locals.container },\r\n        React.createElement(Row, null,\r\n            React.createElement(ButtonGroup, null,\r\n                React.createElement(Button, { color: connected ? 'success' : 'primary', onClick: onConnect }, connected ? '断开连接' : '连接设备'),\r\n                React.createElement(Button, { disabled: !connected, color: connected ? 'danger' : undefined, onClick: onShutdown }, shuttingdown ? '关机中' : '关机'))),\r\n        React.createElement(Row, null,\r\n            React.createElement(\"h3\", null, \"MOPS \\u5FFB\\u98CE\\u968F\\u8EAB\\u7A7A\\u6C14\\u51C0\\u5316\\u5668\"),\r\n            React.createElement(Table, { responsive: true },\r\n                React.createElement(\"tbody\", null,\r\n                    React.createElement(\"tr\", null,\r\n                        React.createElement(\"td\", null,\r\n                            React.createElement(\"strong\", null, \"\\u7535\\u6C60\")),\r\n                        React.createElement(\"td\", null,\r\n                            React.createElement(Progress, { value: (_a = latest.batteryCapacity) !== null && _a !== void 0 ? _a : 0 },\r\n                                latest.batteryCapacity ? `${latest.batteryCapacity}%` : 'N/A',\r\n                                \" \",\r\n                                latest.batteryCharging ? '(Charging)' : '(Discharge)'))),\r\n                    React.createElement(\"tr\", null,\r\n                        React.createElement(\"td\", null,\r\n                            React.createElement(\"strong\", null, \"\\u8C03\\u8282\\u98CE\\u91CF\")),\r\n                        React.createElement(\"td\", null,\r\n                            React.createElement(Input, { type: 'range', min: 0, max: 100, step: 1, value: (_b = latest.windSpeed) !== null && _b !== void 0 ? _b : 0, id: 'windSpeed', onChange: (event) => dispatch(setWindSpeed(parseInt(event.target.value))) }))),\r\n                    React.createElement(\"tr\", null,\r\n                        React.createElement(\"td\", null,\r\n                            React.createElement(\"strong\", null, \"\\u5F53\\u524D\\u98CE\\u91CF\")),\r\n                        React.createElement(\"td\", { className: 'text-monospace' }, latest.windSpeed ? latest.windSpeed + '%' : 'N/A')),\r\n                    React.createElement(\"tr\", null,\r\n                        React.createElement(\"td\", null,\r\n                            React.createElement(\"strong\", null, \"\\u8FD0\\u884C\\u65F6\\u95F4\")),\r\n                        React.createElement(\"td\", { className: 'text-monospace' }, latest.runTime ? prettyDuration(latest.runTime * 1000) : 'N/A')),\r\n                    React.createElement(\"tr\", null,\r\n                        React.createElement(\"td\", null,\r\n                            React.createElement(\"strong\", null, \"\\u542F\\u52A8\\u65F6\\u95F4\")),\r\n                        React.createElement(\"td\", { className: 'text-monospace' }, latest.bootTime ? prettyDuration(latest.bootTime * 1000) : 'N/A')),\r\n                    React.createElement(\"tr\", null,\r\n                        React.createElement(\"td\", null,\r\n                            React.createElement(\"strong\", null, \"\\u56FA\\u4EF6\\u7248\\u672C\")),\r\n                        React.createElement(\"td\", { className: 'text-monospace' }, (_c = latest.version) !== null && _c !== void 0 ? _c : 'N/A'))))),\r\n        React.createElement(Row, null,\r\n            React.createElement(\"p\", null, \"\\u5728\\u9879\\u76EE`MOPS\\u00B7VIDA PM Watchdog`\\u7684\\u57FA\\u7840\\u4E0A\\u589E\\u52A0\\u98CE\\u91CF\\u8C03\\u8282\\u529F\\u80FD \\u539F\\u9879\\u76EE\\u5730\\u5740\\u662F https://github.com/NiceLabs/mops-vida-pm-watchdog\"),\r\n            React.createElement(\"p\", null, \"\\u672C\\u9879\\u76EE\\u5730\\u5740\\u662F https://github.com/createskyblue/mops_xinfeng\"))));\r\n};\r\nconst RecordDate = ({ value }) => {\r\n    if (value === undefined) {\r\n        return React.createElement(\"span\", null, \"N/A\");\r\n    }\r\n    return (React.createElement(\"span\", null,\r\n        value.toLocaleString(),\r\n        \" (Delay: \",\r\n        prettyDuration(Date.now() - value.getTime()),\r\n        \")\"));\r\n};\r\n","import React from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport { Route, Switch } from 'react-router';\r\nimport { ConnectedRouter } from 'connected-react-router';\r\nimport { configureStore, history } from './configureStore';\r\nimport { SensorConsole } from './components/SensorConsole';\r\nconst store = configureStore();\r\nexport const Entry = () => (React.createElement(Provider, { store: store },\r\n    React.createElement(ConnectedRouter, { history: history },\r\n        React.createElement(Switch, null,\r\n            React.createElement(Route, { exact: true, path: '/', component: SensorConsole })))));\r\n","import { combineReducers } from 'redux';\r\nimport { connectRouter } from 'connected-react-router';\r\nimport sensor from './sensor';\r\nimport report from './report';\r\nexport const createRootReducer = (history) => combineReducers({\r\n    router: connectRouter(history),\r\n    sensor,\r\n    report,\r\n});\r\n","import 'bootstrap/dist/css/bootstrap.min.css';\r\nimport ready from 'domready';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Entry } from './Entry';\r\nready(() => {\r\n    const container = document.createElement('main');\r\n    document.body = document.createElement('body');\r\n    document.body.appendChild(container);\r\n    ReactDOM.render(React.createElement(Entry), container);\r\n});\r\n"],"sourceRoot":""}